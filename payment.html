<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Upgrade to Premium | Farming Assistant</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.replit.com/agent/bootstrap-agent-dark-theme.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
    /* Apple-inspired payment page styling */

    :root {
        --apple-white: #ffffff;
        --apple-light-gray: #f5f5f7;
        --apple-medium-gray: #86868b;
        --apple-dark-gray: #1d1d1f;
        --apple-blue: #0066cc;
        --apple-green: #5ac85a;
        --apple-red: #ff3b30;
        --apple-shadow: rgba(0, 0, 0, 0.1);
    }

    /* Typography */
    body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
        letter-spacing: -0.01em;
    }

    h1, h2, h3, h4, h5, h6 {
        font-weight: 600;
        letter-spacing: -0.02em;
    }

    .display-4 {
        font-weight: 700;
        letter-spacing: -0.03em;
    }

    /* Card styling */
    .payment-card {
        border-radius: 16px;
        border: none;
        overflow: hidden;
        box-shadow: 0 8px 30px var(--apple-shadow);
        transition: all 0.3s ease;
    }

    .payment-card .card-header {
        padding: 1.5rem;
        border-bottom: none;
        background: linear-gradient(to right, rgba(88, 129, 87, 0.8), rgba(60, 110, 113, 0.8));
    }

    .payment-card .card-body {
        padding: 2rem;
    }

    /* Section titles */
    .payment-section-title {
        font-weight: 600;
        margin-top: 1.5rem;
        margin-bottom: 1.25rem;
        color: var(--bs-body-color);
        position: relative;
        padding-bottom: 0.75rem;
    }

    .payment-section-title::after {
        content: '';
        position: absolute;
        bottom: 0;
        left: 0;
        width: 50px;
        height: 2px;
        background-color: var(--apple-blue);
    }

    /* Subscription Plans */
    .subscription-plans {
        margin-bottom: 2rem;
    }

    .plan-card {
        background-color: rgba(33, 37, 41, 0.6);
        border-radius: 12px;
        padding: 1.5rem;
        height: 100%;
        transition: all 0.3s ease;
        position: relative;
        border: 1px solid transparent;
    }

    .plan-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
        border-color: rgba(88, 129, 87, 0.5);
    }

    .plan-card.selected {
        border: 2px solid var(--apple-blue);
        background-color: rgba(33, 37, 41, 0.8);
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
    }

    .plan-card.premium {
        transform: scale(1.05);
    }

    .plan-card.premium:hover {
        transform: scale(1.05) translateY(-5px);
    }

    .plan-header {
        font-size: 1.25rem;
        font-weight: 600;
        margin-bottom: 0.75rem;
        text-align: center;
    }

    .plan-price {
        font-size: 1.75rem;
        font-weight: 700;
        text-align: center;
        margin-bottom: 1.25rem;
    }

    .plan-price span {
        font-size: 0.9rem;
        font-weight: 400;
        opacity: 0.7;
    }

    .plan-features {
        list-style: none;
        padding: 0;
        margin: 0;
    }

    .plan-features li {
        padding: 0.4rem 0;
        display: flex;
        align-items: center;
    }

    .plan-features li i {
        margin-right: 0.5rem;
        font-size: 0.8rem;
    }

    .plan-features li.disabled {
        opacity: 0.6;
    }

    .plan-features .fa-check {
        color: var(--apple-green);
    }

    .plan-features .fa-times {
        color: var(--apple-red);
    }

    .plan-tag {
        position: absolute;
        top: -10px;
        right: -10px;
        background-color: var(--apple-blue);
        color: white;
        padding: 0.25rem 0.75rem;
        border-radius: 20px;
        font-size: 0.75rem;
        font-weight: 600;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    }

    /* Payment Methods */
    .payment-methods {
        margin-bottom: 2rem;
    }

    .payment-method-selectors {
        display: flex;
        justify-content: space-between;
        width: 100%;
    }

    .payment-method {
        padding: 1rem 0.5rem;
        background-color: rgba(33, 37, 41, 0.6);
        border-radius: 10px;
        text-align: center;
        cursor: pointer;
        flex-basis: 32%;
        transition: all 0.2s ease;
        border: 1px solid transparent;
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    .payment-method i {
        font-size: 1.5rem;
        margin-bottom: 0.5rem;
    }

    .payment-method:hover {
        background-color: rgba(33, 37, 41, 0.8);
        transform: translateY(-3px);
    }

    .payment-method.selected {
        border-color: var(--apple-blue);
        background-color: rgba(0, 102, 204, 0.1);
    }

    /* Form styling */
    .form-control, .form-select {
        border-radius: 10px;
        padding: 0.75rem 1rem;
        border: 1px solid rgba(255, 255, 255, 0.1);
        background-color: rgba(33, 37, 41, 0.4);
        transition: all 0.3s ease;
    }

    .form-control:focus, .form-select:focus {
        border-color: var(--apple-blue);
        box-shadow: 0 0 0 4px rgba(0, 102, 204, 0.15);
    }

    .input-group-text {
        border-radius: 0 10px 10px 0;
        background-color: rgba(33, 37, 41, 0.6);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-left: none;
    }

    /* Order Summary */
    .order-summary {
        background-color: rgba(33, 37, 41, 0.4);
        border-radius: 12px;
        padding: 1.5rem;
        margin: 1.5rem 0;
    }

    .order-summary-item {
        padding: 0.75rem 0;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    .order-summary-total {
        padding-top: 0.75rem;
        font-weight: 600;
        font-size: 1.1rem;
    }

    /* Button styling */
    .btn-primary {
        background: linear-gradient(to right, #0066cc, #0077e6);
        border: none;
        padding: 0.8rem 1.5rem;
        border-radius: 30px;
        font-weight: 600;
        letter-spacing: -0.02em;
        transition: all 0.3s ease;
    }

    .btn-primary:hover {
        background: linear-gradient(to right, #0077e6, #0088ff);
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(0, 102, 204, 0.3);
    }

    .btn-primary:active {
        transform: translateY(0);
    }

    .btn-outline-secondary {
        border-radius: 30px;
        padding: 0.8rem 1.5rem;
        font-weight: 500;
    }

    /* FAQ section */
    .accordion-item {
        background-color: transparent;
        border: none;
        margin-bottom: 0.5rem;
    }

    .accordion-button {
        background-color: rgba(33, 37, 41, 0.4);
        border-radius: 10px !important;
        font-weight: 500;
        padding: 1rem 1.25rem;
    }

    .accordion-button:not(.collapsed) {
        background-color: rgba(0, 102, 204, 0.1);
        color: var(--bs-body-color);
        box-shadow: none;
    }

    .accordion-button:focus {
        border-color: var(--apple-blue);
        box-shadow: 0 0 0 0.25rem rgba(0, 102, 204, 0.15);
    }

    .accordion-body {
        padding: 1rem 1.25rem;
        background-color: rgba(33, 37, 41, 0.2);
        border-radius: 0 0 10px 10px;
    }

    /* Links */
    a {
        color: var(--apple-blue);
        text-decoration: none;
        transition: all 0.2s ease;
    }

    a:hover {
        color: #0088ff;
        text-decoration: underline;
    }

    /* UPI styling */
    #upi-details .input-group-text {
        background-color: rgba(88, 129, 87, 0.3);
        color: var(--apple-green);
    }

    #upi-details .form-text {
        color: var(--bs-secondary);
        font-size: 0.85rem;
    }

    /* Responsive adjustments */
    @media (max-width: 768px) {
        .payment-card .card-body {
            padding: 1.5rem;
        }
        
        .payment-method span {
            font-size: 0.9rem;
        }
        
        .plan-card.premium {
            transform: none;
        }
        
        .plan-card.premium:hover {
            transform: translateY(-5px);
        }
        
        .payment-method-selectors {
            gap: 10px;
        }
    }

    @media (max-width: 576px) {
        .payment-card .card-body {
            padding: 1rem;
        }
        
        .payment-method {
            padding: 0.75rem 0.25rem;
        }
        
        .payment-method i {
            font-size: 1.25rem;
        }
        
        .payment-method span {
            font-size: 0.8rem;
        }
        
        .payment-method-selectors {
            flex-direction: column;
        }
    }
    </style>
</head>
<body>
    <div class="container py-5">
        <header class="text-center mb-5">
            <h1 class="display-4">Upgrade Your Farming Assistant</h1>
            <p class="lead">Get premium agricultural insights and personalized recommendations</p>
        </header>
        
        <div class="row justify-content-center">
            <div class="col-lg-10">
                <div class="card payment-card shadow-sm mb-4">
                    <div class="card-header">
                        <h4 class="mb-0"><i class="fas fa-leaf me-2"></i>Choose Your Premium Plan</h4>
                    </div>
                    <div class="card-body">
                        <!-- Subscription Plans -->
                        <div class="subscription-plans mb-4">
                            <div class="row">
                                <div class="col-md-4 mb-3 mb-md-0">
                                    <div class="plan-card" data-plan="basic">
                                        <div class="plan-header">Basic</div>
                                        <div class="plan-price">₹100<span>/month</span></div>
                                        <ul class="plan-features">
                                            <li><i class="fas fa-check"></i> Crop recommendations</li>
                                            <li><i class="fas fa-check"></i> Weather alerts</li>
                                            <li><i class="fas fa-check"></i> Basic farming advice</li>
                                            <li class="disabled"><i class="fas fa-times"></i> Crop Calendar</li>
                                            <li class="disabled"><i class="fas fa-times"></i> Personalized farm planning</li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="col-md-4 mb-3 mb-md-0">
                                    <div class="plan-card pro selected" data-plan="pro">
                                        <div class="plan-tag">Most Popular</div>
                                        <div class="plan-header">Pro</div>
                                        <div class="plan-price">₹300<span>/month</span></div>
                                        <ul class="plan-features">
                                            <li><i class="fas fa-check"></i> All Basic features</li>
                                            <li><i class="fas fa-check"></i> Crop Calendar</li>
                                            <li><i class="fas fa-check"></i> Pest identification</li>
                                            <li class="disabled"><i class="fas fa-times"></i> 1-on-1 expert consultation</li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="plan-card" data-plan="premium">
                                        <div class="plan-header">Premium</div>
                                        <div class="plan-price">₹500<span>/month</span></div>
                                        <ul class="plan-features">
                                            <li><i class="fas fa-check"></i> All Pro features</li>
                                            <li><i class="fas fa-check"></i> Personalized farm planning</li>
                                            <li><i class="fas fa-check"></i> 1-on-1 expert consultation</li>
                                            <li><i class="fas fa-check"></i> Advanced crop predictions</li>
                                            <li><i class="fas fa-check"></i> Priority customer support</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Payment Information Form -->
                        <form id="payment-form" class="needs-validation" novalidate>
                            <h5 class="mb-3 payment-section-title">Payment Information</h5>
                            
                            <!-- Payment Methods -->
                            <div class="payment-methods mb-4">
                                <div class="row">
                                    <div class="col-12">
                                        <div class="d-flex justify-content-between payment-method-selectors">
                                            <div class="payment-method selected" data-method="card">
                                                <i class="fas fa-credit-card"></i>
                                                <span>Credit Card</span>
                                            </div>
                                            <div class="payment-method" data-method="upi">
                                                <i class="fas fa-mobile-alt"></i>
                                                <span>UPI</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Card Details Section -->
                            <div id="card-details">
                                <div class="row mb-3">
                                    <div class="col-12">
                                        <label for="cardNumber" class="form-label">Card Number</label>
                                        <div class="input-group">
                                            <input type="text" class="form-control" id="cardNumber" placeholder="1234 5678 9012 3456" required>
                                            <span class="input-group-text">
                                                <i class="fab fa-cc-visa"></i>
                                                <i class="fab fa-cc-mastercard ms-1"></i>
                                                <i class="fab fa-cc-amex ms-1"></i>
                                            </span>
                                        </div>
                                        <div class="invalid-feedback">
                                            Please enter a valid card number.
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="row mb-3">
                                    <div class="col-md-6 mb-3 mb-md-0">
                                        <label for="expiryDate" class="form-label">Expiry Date</label>
                                        <input type="text" class="form-control" id="expiryDate" placeholder="MM/YY" required>
                                        <div class="invalid-feedback">
                                            Please enter a valid expiry date.
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <label for="cvv" class="form-label">Security Code (CVV)</label>
                                        <input type="text" class="form-control" id="cvv" placeholder="123" required>
                                        <div class="invalid-feedback">
                                            Please enter a valid security code.
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="row mb-4">
                                    <div class="col-12">
                                        <label for="nameOnCard" class="form-label">Name on Card</label>
                                        <input type="text" class="form-control" id="nameOnCard" placeholder="John Doe" required>
                                        <div class="invalid-feedback">
                                            Please enter the name on your card.
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- UPI Details Section -->
                            <div id="upi-details" style="display: none;">
                                <div class="row mb-4">
                                    <div class="col-12">
                                        <label for="upiId" class="form-label">UPI ID</label>
                                        <div class="input-group">
                                            <input type="text" class="form-control" id="upiId" placeholder="yourname@upi" required>
                                            <span class="input-group-text">
                                                <i class="fas fa-mobile-alt"></i>
                                            </span>
                                        </div>
                                        <div class="invalid-feedback">
                                            Please enter a valid UPI ID.
                                        </div>
                                        <div class="form-text text-muted mt-2">
                                            <i class="fas fa-info-circle me-1"></i> Enter your UPI ID in the format username@bank or phone_number@upi
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Billing Address Section -->
                            <h5 class="mb-3 payment-section-title">Billing Address</h5>
                            <div class="row mb-3">
                                <div class="col-md-6 mb-3 mb-md-0">
                                    <label for="firstName" class="form-label">First Name</label>
                                    <input type="text" class="form-control" id="firstName" required>
                                </div>
                                <div class="col-md-6">
                                    <label for="lastName" class="form-label">Last Name</label>
                                    <input type="text" class="form-control" id="lastName" required>
                                </div>
                            </div>
                            
                            <div class="row mb-3">
                                <div class="col-12">
                                    <label for="email" class="form-label">Email</label>
                                    <input type="email" class="form-control" id="email" placeholder="you@example.com" required>
                                </div>
                            </div>
                            
                            <div class="row mb-3">
                                <div class="col-12">
                                    <label for="address" class="form-label">Address</label>
                                    <input type="text" class="form-control" id="address" required>
                                </div>
                            </div>
                            
                            <div class="row mb-4">
                                <div class="col-md-5 mb-3 mb-md-0">
                                    <label for="country" class="form-label">Country</label>
                                    <select class="form-select" id="country" required>
                                        <option value="">Choose...</option>
                                        <option selected>India</option>
                                        
                                    </select>
                                    <div class="col-md-4 mb-3 mb-md-0">
                                        <label for="state" class="form-label">State</label>
                                        <select class="form-select" id="state" required>
                                            <option value="">Choose...</option>
                                            <option>Andhra Pradesh</option>
                                            <option>Arunachal Pradesh</option>
                                            <option>Assam</option>
                                            <option>Bihar</option>
                                            <option>Chhattisgarh</option>
                                            <option>Goa</option>
                                            <option>Gujarat</option>
                                            <option>Haryana</option>
                                            <option>Himachal Pradesh</option>
                                            <option>Jharkhand</option>
                                            <option>Karnataka</option>
                                            <option>Kerala</option>
                                            <option>Madhya Pradesh</option>
                                            <option>Maharashtra</option>
                                            <option>Manipur</option>
                                            <option>Meghalaya</option>
                                            <option>Mizoram</option>
                                            <option>Nagaland</option>
                                            <option>Odisha</option>
                                            <option>Punjab</option>
                                            <option>Rajasthan</option>
                                            <option>Sikkim</option>
                                            <option>Tamil Nadu</option>
                                            <option>Telangana</option>
                                            <option>Tripura</option>
                                            <option>Uttar Pradesh</option>
                                            <option>Uttarakhand</option>
                                            <option>West Bengal</option>
                                        </select>
                                    </div>
                                    <div class="col-md-3">
                                        <label for="zip" class="form-label">Zip</label>
                                        <input type="text" class="form-control" id="zip" required>
                                    </div>
                                    
                            
                            <!-- Order Summary -->
                            <div class="order-summary mb-4">
                                <h5 class="mb-3 payment-section-title">Order Summary</h5>
                                <div class="order-summary-item d-flex justify-content-between">
                                    <span>Pro Plan (Monthly)</span>
                                    <span>₹300</span>
                                </div>
                                <div class="order-summary-item d-flex justify-content-between">
                                    <span>Tax</span>
                                    <span>₹0</span>
                                </div>
                                <div class="order-summary-total d-flex justify-content-between">
                                    <span>Total</span>
                                    <span>₹300/month</span>
                                </div>
                            </div>
                            
                            <!-- Terms and Conditions -->
                            <div class="form-check mb-4">
                                <input class="form-check-input" type="checkbox" id="termsCheck" required>
                                <label class="form-check-label small" for="termsCheck">
                                    I agree to the <a href="#">Terms of Service</a> and <a href="#">Privacy Policy</a>
                                </label>
                                <div class="invalid-feedback">
                                    You must agree to the terms and conditions.
                                </div>
                            </div>
                            
                            <!-- Submit Button -->
                            <div class="d-grid gap-2">
                                <button class="btn btn-primary btn-lg" type="submit" id="submit-payment">
                                    Subscribe Now
                                </button>
                                <p class="text-center small mt-2">
                                    <i class="fas fa-lock me-1"></i> Secured by 256-bit encryption. Cancel anytime.
                                </p>
                            </div>
                        </form>
                    </div>
                </div>
                
                <!-- FAQ Section -->
                <div class="card shadow-sm mb-4">
                    <div class="card-header bg-info bg-opacity-25">
                        <h5 class="mb-0"><i class="fas fa-question-circle me-2"></i>Frequently Asked Questions</h5>
                    </div>
                    <div class="card-body">
                        <div class="accordion" id="faqAccordion">
                            <div class="accordion-item">
                                <h2 class="accordion-header">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq1">
                                        Can I cancel my subscription at any time?
                                    </button>
                                </h2>
                                <div id="faq1" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                    <div class="accordion-body">
                                        Yes, you can cancel your subscription at any time. Your premium access will continue until the end of your current billing period.
                                    </div>
                                </div>
                            </div>
                            <div class="accordion-item">
                                <h2 class="accordion-header">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq2">
                                        Is my payment information secure?
                                    </button>
                                </h2>
                                <div id="faq2" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                    <div class="accordion-body">
                                        Yes, we use industry-standard encryption to protect your payment information. We never store your full credit card details on our servers.
                                    </div>
                                </div>
                            </div>
                            <div class="accordion-item">
                                <h2 class="accordion-header">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq3">
                                        What additional features do I get with Premium?
                                    </button>
                                </h2>
                                <div id="faq3" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                    <div class="accordion-body">
                                        Premium members get access to market price updates, pest identification, and more advanced agricultural information.
                                    </div>
                                </div>
                            </div>
                            <div class="accordion-item">
                                <h2 class="accordion-header">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq4">
                                        How do I access Premium features after subscribing?
                                    </button>
                                </h2>
                                <div id="faq4" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                    <div class="accordion-body">
                                        After completing your subscription, you'll immediately have access to all premium features through your account. Simply log in to access all your premium benefits.
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Return Button -->
                <div class="text-center mb-5">
                    <a href="/" class="btn btn-outline-secondary">
                        <i class="fas fa-arrow-left me-2"></i>Return to Assistant
                    </a>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Footer -->
    <footer class="text-center text-white py-4 mt-4">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <p class="small mb-1">Farming Assistant Premium - Expert agricultural knowledge at your fingertips</p>
                    <div class="d-flex justify-content-center gap-3 mb-3">
                        <i class="fas fa-seedling"></i>
                        <i class="fas fa-tractor"></i>
                        <i class="fas fa-sun"></i>
                        <i class="fas fa-cloud-rain"></i>
                        <i class="fas fa-leaf"></i>
                    </div>
                    <p class="mb-0 small">© 2025 Farm Assistant Bot. Growing better farms together.</p>
                </div>
            </div>
        </div>
    </footer>
    
    <!-- Bootstrap JavaScript Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Custom JavaScript for Payment Page -->
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        // DOM Elements
        const paymentForm = document.getElementById('payment-form');
        const planCards = document.querySelectorAll('.plan-card');
        const paymentMethods = document.querySelectorAll('.payment-method');
        const cardDetailsSection = document.getElementById('card-details');
        const submitButton = document.getElementById('submit-payment');
        const orderSummaryPrice = document.querySelector('.order-summary-total span');
        const orderSummaryItem = document.querySelector('.order-summary-item span:first-child');
        
        // Track selected plan and payment method
        let selectedPlan = 'pro';
        let selectedPaymentMethod = 'card';
        
        // Price mapping
        const planPrices = {
            basic: 100,
            pro: 300,
            premium: 500
        };
        
        // Plan names mapping
        const planNames = {
            basic: 'Basic Plan',
            pro: 'Pro Plan',
            premium: 'Premium Plan'
        };
        
        // Get UPI details section
        const upiDetailsSection = document.getElementById('upi-details');
        
        // Update order summary based on selected plan
        function updateOrderSummary() {
            const price = planPrices[selectedPlan];
            orderSummaryPrice.textContent = `₹${price}/month`;
            orderSummaryItem.textContent = `${planNames[selectedPlan]} (Monthly)`;
        }
        
        // Plan selection
        planCards.forEach(card => {
            card.addEventListener('click', () => {
                // Remove selected class from all cards
                planCards.forEach(c => c.classList.remove('selected'));
                
                // Add selected class to clicked card
                card.classList.add('selected');
                
                // Update selected plan
                selectedPlan = card.getAttribute('data-plan');
                
                // Update order summary
                updateOrderSummary();
                
                // Apply elegant animation
                card.style.animation = 'pulse 0.5s';
                setTimeout(() => {
                    card.style.animation = '';
                }, 500);
            });
        });
        
        // Payment method selection
        paymentMethods.forEach(method => {
            method.addEventListener('click', () => {
                // Remove selected class from all methods
                paymentMethods.forEach(m => m.classList.remove('selected'));
                
                // Add selected class to clicked method
                method.classList.add('selected');
                
                // Update selected payment method
                selectedPaymentMethod = method.getAttribute('data-method');
                
                // Toggle payment details section visibility
                if (selectedPaymentMethod === 'card') {
                    cardDetailsSection.style.display = 'block';
                    upiDetailsSection.style.display = 'none';
                } else if (selectedPaymentMethod === 'upi') {
                    cardDetailsSection.style.display = 'none';
                    upiDetailsSection.style.display = 'block';
                }
            });
        });
        
        // Card number formatting (add spaces every 4 digits)
        const cardNumberInput = document.getElementById('cardNumber');
        if (cardNumberInput) {
            cardNumberInput.addEventListener('input', function(e) {
                // Remove any non-digit characters
                let value = this.value.replace(/\D/g, '');
                
                // Add a space after every 4 digits
                value = value.replace(/(\d{4})(?=\d)/g, '$1 ');
                
                // Limit to 19 characters (16 digits + 3 spaces)
                value = value.substring(0, 19);
                
                // Update the input value
                this.value = value;
            });
        }
        
        // Expiry date formatting (MM/YY)
        const expiryDateInput = document.getElementById('expiryDate');
        if (expiryDateInput) {
            expiryDateInput.addEventListener('input', function(e) {
                // Remove any non-digit characters
                let value = this.value.replace(/\D/g, '');
                
                // Add slash after month
                if (value.length > 2) {
                    value = value.substring(0, 2) + '/' + value.substring(2, 4);
                }
                
                // Limit to 5 characters (MM/YY)
                value = value.substring(0, 5);
                
                // Update the input value
                this.value = value;
            });
        }
        
        // CVV formatting (limit to 3-4 digits)
        const cvvInput = document.getElementById('cvv');
        if (cvvInput) {
            cvvInput.addEventListener('input', function(e) {
                // Remove any non-digit characters
                let value = this.value.replace(/\D/g, '');
                
                // Limit to 4 characters (some cards have 4-digit CVV)
                value = value.substring(0, 4);
                
                // Update the input value
                this.value = value;
            });
        }
        
        // UPI ID validation
        const upiIdInput = document.getElementById('upiId');
        if (upiIdInput) {
            upiIdInput.addEventListener('input', function(e) {
                // Basic UPI validation (should contain @ symbol)
                const value = this.value;
                const isValid = value.includes('@') && value.length > 3;
                
                if (isValid) {
                    this.classList.remove('is-invalid');
                    this.classList.add('is-valid');
                } else if (value.length > 0) {
                    this.classList.remove('is-valid');
                    this.classList.add('is-invalid');
                } else {
                    this.classList.remove('is-valid');
                    this.classList.remove('is-invalid');
                }
            });
        }
        
        // Form validation and submission
        if (paymentForm) {
            paymentForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Dynamically set required attributes based on payment method
                const cardInputs = document.querySelectorAll('#card-details input[required]');
                const upiInputs = document.querySelectorAll('#upi-details input[required]');
                
                if (selectedPaymentMethod === 'card') {
                    // Make card fields required
                    cardInputs.forEach(input => input.setAttribute('required', ''));
                    // Make UPI fields not required
                    upiInputs.forEach(input => input.removeAttribute('required'));
                } else if (selectedPaymentMethod === 'upi') {
                    // Make UPI fields required
                    upiInputs.forEach(input => input.setAttribute('required', ''));
                    // Make card fields not required
                    cardInputs.forEach(input => input.removeAttribute('required'));
                }
                
                if (!this.checkValidity()) {
                    e.stopPropagation();
                    this.classList.add('was-validated');
                    return;
                }
                
                // Show processing state
                submitButton.disabled = true;
                submitButton.innerHTML = '<span class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span> Processing...';
                
                // Simulate payment processing (in a real app, this would call an API)
                setTimeout(() => {
                    // Show success message (Apple-style)
                    const formContent = paymentForm.innerHTML;
                    
                    // Replace form with success message
                    paymentForm.innerHTML = `
                        <div class="text-center py-5">
                            <div class="success-checkmark mb-4">
                                <div class="check-icon">
                                    <span class="icon-line line-tip"></span>
                                    <span class="icon-line line-long"></span>
                                    <div class="icon-circle"></div>
                                    <div class="icon-fix"></div>
                                </div>
                            </div>
                            <h3 class="mb-3">Payment Successful!</h3>
                            <p class="mb-4">Thank you for subscribing to ${planNames[selectedPlan]} for ₹${planPrices[selectedPlan]}/month.</p>
                            <p class="mb-2">
                                <span class="badge bg-success">
                                    <i class="${selectedPaymentMethod === 'card' ? 'fas fa-credit-card' : 'fas fa-mobile-alt'} me-1"></i>
                                    Payment via ${selectedPaymentMethod === 'card' ? 'Credit Card' : 'UPI'}
                                </span>
                            </p>
                            <p class="text-muted">A confirmation email has been sent to your email address.</p>
                            <div class="mt-4">
                                <a href="/" class="btn btn-primary btn-lg mt-3">
                                    <i class="fas fa-seedling me-2"></i>Start Using Premium Features
                                </a>
                            </div>
                        </div>
                    `;
                    
                    // Add success animation CSS
                    const style = document.createElement('style');
                    style.textContent = `
                        .success-checkmark {
                            width: 80px;
                            height: 80px;
                            margin: 0 auto;
                            position: relative;
                        }
                        .success-checkmark .check-icon {
                            width: 80px;
                            height: 80px;
                            position: relative;
                            border-radius: 50%;
                            box-sizing: content-box;
                            border: 4px solid var(--apple-green);
                        }
                        .success-checkmark .check-icon::before {
                            top: 3px;
                            left: -2px;
                            width: 30px;
                            transform-origin: 100% 50%;
                            border-radius: 100px 0 0 100px;
                        }
                        .success-checkmark .check-icon::after {
                            top: 0;
                            left: 30px;
                            width: 60px;
                            transform-origin: 0 50%;
                            border-radius: 0 100px 100px 0;
                            animation: rotate-circle 4.25s ease-in;
                        }
                        .success-checkmark .check-icon::before, .success-checkmark .check-icon::after {
                            content: '';
                            height: 100px;
                            position: absolute;
                            background: transparent;
                            transform: rotate(-45deg);
                        }
                        .success-checkmark .check-icon .icon-line {
                            height: 5px;
                            background-color: var(--apple-green);
                            display: block;
                            border-radius: 2px;
                            position: absolute;
                            z-index: 10;
                        }
                        .success-checkmark .check-icon .icon-line.line-tip {
                            top: 46px;
                            left: 14px;
                            width: 25px;
                            transform: rotate(45deg);
                            animation: icon-line-tip 0.75s;
                        }
                        .success-checkmark .check-icon .icon-line.line-long {
                            top: 38px;
                            right: 8px;
                            width: 47px;
                            transform: rotate(-45deg);
                            animation: icon-line-long 0.75s;
                        }
                        @keyframes icon-line-tip {
                            0% {
                                width: 0;
                                left: 1px;
                                top: 19px;
                            }
                            54% {
                                width: 0;
                                left: 1px;
                                top: 19px;
                            }
                            70% {
                                width: 50px;
                                left: -8px;
                                top: 37px;
                            }
                            84% {
                                width: 17px;
                                left: 21px;
                                top: 48px;
                            }
                            100% {
                                width: 25px;
                                left: 14px;
                                top: 46px;
                            }
                        }
                        @keyframes icon-line-long {
                            0% {
                                width: 0;
                                right: 46px;
                                top: 54px;
                            }
                            65% {
                                width: 0;
                                right: 46px;
                                top: 54px;
                            }
                            84% {
                                width: 55px;
                                right: 0px;
                                top: 35px;
                            }
                            100% {
                                width: 47px;
                                right: 8px;
                                top: 38px;
                            }
                        }
                    `;
                    document.head.appendChild(style);
                    
                }, 2000);
            });
        }
    });
    </script>
</body>
</html>